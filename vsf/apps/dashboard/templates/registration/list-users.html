{% extends 'extends/base.html' %}
{% load static %}
{% block custom_stylesheet %}

<link rel="stylesheet" type="text/css" href="{% static 'plugins/DataTables/datatables.min.css' %}" /> 


{% endblock custom_stylesheet %}

{% block tab_title %} VSF - Users {% endblock tab_title %}
{% block title %} Users {% endblock title %}
{% block sub_title %} List and filter all the currently available users {% endblock sub_title %}

{% block route %}

<li class="breadcrumb-item">
  <a href="{% url home %}">Home</a>
</li>
<li class="breadcrumb-item">
  <a href="{% url 'dashboard:users:users_list' %}">Users List</a>
</li>

{% endblock route %}

{% block content %}
  <form id="urlForm">
    <nav class="navbar navbar-light bg-light mb-5">
      <div class="container-fluid">
        <div class="row">

          <div class="col-4">
            <input
            id="username"
            class="form-control mr-2 additional-filter border-top-0 border-left-0 border-right-0 bg-transparent"
            type="search"
            placeholder="Username"
            aria-label="Search username"
            value="{{ prefill.username }}"
            name="username"
            />
          </div>

          <div class="col-4">
            <input
            id="first_name"
            class="form-control mr-2 additional-filter border-top-0 border-left-0 border-right-0 bg-transparent"
            type="search"
            placeholder="Name"
            aria-label="Search first name"
            value="{{ prefill.first_name }}"
            name="first_name"
            />
          </div>

          <div class="col-4">
            <input
            id="last_name"
            class="form-control mr-2 additional-filter border-top-0 border-left-0 border-right-0 bg-transparent"
            type="search"
            placeholder="Last Name"
            aria-label="Search last name"
            value="{{ prefill.last_name }}"
            name="last_name"
            />
          </div>

          <div class="col-4">
            <input
            id="email"
            class="form-control mr-2 additional-filter border-top-0 border-left-0 border-right-0 bg-transparent"
            type="search"
            placeholder="Email"
            aria-label="Search Email"
            value="{{ prefill.email }}"
            name="email"
            />
          </div>

          <div class="col-4">
            <div class="row align-items-center rounded p-2 bg-info ml-1">
              <div class="col-5 mx-auto">
                <label class='font-weight-bold text-white' for="asn">
                  Role
                </label>
              </div>
              <div class="col-7 mx-auto">
                <select id="first_name" class="custom-select additional-filter" name="first_name">
                  <option value="">Any Role</option>
                  <option >Superuser</option>
                  <option >Admin</option>
                  <option >Analist</option>
                  <option >Editor</option>
                  
                </select>
              </div>
            </div> 
          </div>
          <div class="col-1 my-auto mx-auto">
            <button id="url-form-button" class="btn btn-outline-info btn-block" type="submit">
              <i class="fa fa-search"></i>
            </button>
          </div>
        </div> 
      </div>   
    </nav>


    <div class="card rounded p-5" id="users-card">
      <div class="table-responsive">
        <table class="table table-striped mt-5 datatable" id="users">
          <thead>
            <tr>
              <th class="text-center" scope="col">Username</th>
              <th class="text-center" scope="col">First Name</th>
              <th class="text-center" scope="col">Last Name</th>
              <th class="text-center" scope="col">Email</th>
              <th class="text-center" scope="col">Role</th>
              <th class="text-center" scope="col">Active?</th>
              <th class="text-center" scope="col">Actions</th>
            </tr>
          </thead>
          <tbody id='users-tbody'>


            {% for user_object in object_list %}
            <tr>
                <td>
                    {{ user_object.username }}
                    </td>
                <td>
                    {{ user_object.first_name }}
                </td>
                <td>
                    {{ user_object.last_name }}
                </td>
                <td>
                    {{ user_object.email }}
                </td>
                <td>
                    {{ user_object.role }}
                </td>
                <td>
                    {{ user_object.is_active }}
                </td>
                <td>
                    <a href="">
                        <button type="button" class="btn btn-info">Edit</button>
                    </a>
                    <button type="button" class="btn btn-danger">Disable</button>
                </td>
                </tr>
            {% endfor %}

          </tbody>
          <tfoot>
          </tfoot>
        </table>
      </div>
    </div>

  </form>

{% endblock content %}